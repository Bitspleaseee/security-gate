{"version":3,"sources":["webpack:///route-login.chunk.e47b1.js","webpack:///./components/Form.js","webpack:///./actions/auth.js","webpack:///./routes/login.js"],"names":["webpackJsonp","0sb0","module","__webpack_exports__","__webpack_require__","__WEBPACK_IMPORTED_MODULE_0_preact__","__WEBPACK_IMPORTED_MODULE_1_preact_fluid__","n","_ref","inputs","actions","Object","columns","map","_ref2","label","type","value","disabled","onChange","errorMsg","middle","grid","rows","hideLabel","effect","placeholder","errorText","_ref3","onClick","loading","primary","secondary","SOJE","d","authenticate","deauthenticate","registerUser","__WEBPACK_IMPORTED_MODULE_0____","authRequest","postJson","username","password","dispatch","payload","then","res","catch","e","email","SZ4Z","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","TypeError","prototype","create","constructor","enumerable","writable","configurable","setPrototypeOf","__proto__","defineProperty","__WEBPACK_IMPORTED_MODULE_1_linkstate__","__WEBPACK_IMPORTED_MODULE_2_preact_redux__","__WEBPACK_IMPORTED_MODULE_3_preact_router__","__WEBPACK_IMPORTED_MODULE_4_preact_fluid__","__WEBPACK_IMPORTED_MODULE_5__actions_auth_js__","__WEBPACK_IMPORTED_MODULE_6__components_WarningCard_js__","__WEBPACK_IMPORTED_MODULE_7__components_Form_js__","Login","_Component","_temp","_this","_ret","_len","arguments","length","args","Array","_key","this","apply","concat","state","render","isAuthPending","isAuth","authUsername","route","style","max-width","margin","padding","message","linkState","Component","mapStateToProps","_ref4","auth","pending","authenticated","mapDispatchToProps","data","connect"],"mappings":"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","file":"route-login.chunk.e47b1.js","sourcesContent":["webpackJsonp([1],{\n\n/***/ \"0sb0\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_preact__ = __webpack_require__(\"KM04\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_preact___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_preact__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_preact_fluid__ = __webpack_require__(\"PbA0\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_preact_fluid___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_preact_fluid__);\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (function (_ref) {\n  var inputs = _ref.inputs,\n      actions = _ref.actions;\n  return Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n    __WEBPACK_IMPORTED_MODULE_1_preact_fluid__[\"Grid\"],\n    { columns: 1 },\n    inputs.map(function (_ref2) {\n      var label = _ref2.label,\n          type = _ref2.type,\n          value = _ref2.value,\n          disabled = _ref2.disabled,\n          onChange = _ref2.onChange,\n          errorMsg = _ref2.errorMsg;\n      return Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n        __WEBPACK_IMPORTED_MODULE_1_preact_fluid__[\"Cell\"],\n        { middle: true },\n        Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(__WEBPACK_IMPORTED_MODULE_1_preact_fluid__[\"TextField\"], {\n          grid: {\n            columns: 1,\n            rows: 1\n          },\n          hideLabel: true,\n          effect: 'border',\n          placeholder: label,\n          value: value,\n          type: type,\n          disabled: disabled,\n          errorText: errorMsg,\n          onChange: onChange })\n      );\n    }),\n    actions.map(function (_ref3) {\n      var label = _ref3.label,\n          onClick = _ref3.onClick,\n          loading = _ref3.loading,\n          disabled = _ref3.disabled,\n          primary = _ref3.primary,\n          secondary = _ref3.secondary;\n      return Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n        __WEBPACK_IMPORTED_MODULE_1_preact_fluid__[\"Cell\"],\n        { middle: true },\n        Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n          __WEBPACK_IMPORTED_MODULE_1_preact_fluid__[\"Button\"],\n          {\n            onClick: onClick,\n            primary: primary,\n            secondary: secondary,\n            loading: loading,\n            disabled: disabled },\n          label\n        )\n      );\n    })\n  );\n});\n\n/***/ }),\n\n/***/ \"SOJE\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return authenticate; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return deauthenticate; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"c\", function() { return registerUser; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0____ = __webpack_require__(\"vyGZ\");\n\n\nvar authRequest = Object(__WEBPACK_IMPORTED_MODULE_0____[\"c\" /* postJson */])('/api/auth/');\n\nvar authenticate = function authenticate(_ref) {\n  var username = _ref.username,\n      password = _ref.password;\n  return function (dispatch) {\n    dispatch(Object(__WEBPACK_IMPORTED_MODULE_0____[\"b\" /* payload */])('AUTHENTICATE_PENDING')());\n    authRequest(Object(__WEBPACK_IMPORTED_MODULE_0____[\"b\" /* payload */])('AUTHENTICATE')({ username: username, password: password })).then(function (res) {\n      return dispatch(res);\n    }).catch(function (e) {\n      return dispatch(Object(__WEBPACK_IMPORTED_MODULE_0____[\"b\" /* payload */])('LOCAL_AUTH_ERROR')(e));\n    });\n  };\n};\n\nvar deauthenticate = function deauthenticate(_) {\n  return function (dispatch) {\n    dispatch(Object(__WEBPACK_IMPORTED_MODULE_0____[\"b\" /* payload */])('DEAUTHENTICATE_PENDING')());\n    authRequest(Object(__WEBPACK_IMPORTED_MODULE_0____[\"b\" /* payload */])('DEAUTHENTICATE')()).then(function (res) {\n      return dispatch(res);\n    }).catch(function (e) {\n      return dispatch(Object(__WEBPACK_IMPORTED_MODULE_0____[\"b\" /* payload */])('LOCAL_AUTH_ERROR')(e));\n    });\n  };\n};\n\nvar registerUser = function registerUser(_ref2) {\n  var username = _ref2.username,\n      password = _ref2.password,\n      email = _ref2.email;\n  return function (dispatch) {\n    dispatch(Object(__WEBPACK_IMPORTED_MODULE_0____[\"b\" /* payload */])('REGISTER_USER_PENDING')());\n    authRequest(Object(__WEBPACK_IMPORTED_MODULE_0____[\"b\" /* payload */])('REGISTER_USER')({ username: username, password: password, email: email })).then(function (res) {\n      return dispatch(res);\n    }).catch(function (e) {\n      return dispatch(Object(__WEBPACK_IMPORTED_MODULE_0____[\"b\" /* payload */])('LOCAL_AUTH_ERROR')(e));\n    });\n  };\n};\n\n/***/ }),\n\n/***/ \"SZ4Z\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_preact__ = __webpack_require__(\"KM04\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_preact___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_preact__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_linkstate__ = __webpack_require__(\"CSCC\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_preact_redux__ = __webpack_require__(\"E/bI\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_preact_router__ = __webpack_require__(\"/QC5\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_preact_fluid__ = __webpack_require__(\"PbA0\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_preact_fluid___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_preact_fluid__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__actions_auth_js__ = __webpack_require__(\"SOJE\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__components_WarningCard_js__ = __webpack_require__(\"FEQE\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__components_Form_js__ = __webpack_require__(\"0sb0\");\n\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\n\n\n\n\n\n\n\n\nvar _ref3 = Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n  __WEBPACK_IMPORTED_MODULE_4_preact_fluid__[\"Cell\"],\n  { middle: true },\n  Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n    'h1',\n    null,\n    'Login'\n  )\n);\n\nvar Login = function (_Component) {\n  _inherits(Login, _Component);\n\n  function Login() {\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, Login);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, _Component.call.apply(_Component, [this].concat(args))), _this), _this.state = {\n      username: '',\n      password: ''\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  Login.prototype.render = function render(_ref, _ref2) {\n    var isAuthPending = _ref.isAuthPending,\n        isAuth = _ref.isAuth,\n        authUsername = _ref.authUsername,\n        authenticate = _ref.authenticate,\n        deauthenticate = _ref.deauthenticate;\n    var username = _ref2.username,\n        password = _ref2.password;\n\n    if (isAuth) {\n      Object(__WEBPACK_IMPORTED_MODULE_3_preact_router__[\"b\" /* route */])('/dashboard', true);\n    }\n    return Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n      __WEBPACK_IMPORTED_MODULE_4_preact_fluid__[\"Grid\"],\n      { columns: '1fr', style: { 'max-width': '900px', 'margin': '0 auto', 'padding': '10px' } },\n      _ref3,\n      isAuth && Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n        __WEBPACK_IMPORTED_MODULE_4_preact_fluid__[\"Cell\"],\n        { middle: true },\n        Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(__WEBPACK_IMPORTED_MODULE_6__components_WarningCard_js__[\"a\" /* default */], {\n          message: 'You are already logged in as ' + authUsername,\n          label: 'Logout',\n          onClick: deauthenticate\n        })\n      ),\n      Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n        __WEBPACK_IMPORTED_MODULE_4_preact_fluid__[\"Cell\"],\n        { middle: true },\n        Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(__WEBPACK_IMPORTED_MODULE_7__components_Form_js__[\"a\" /* default */], {\n          inputs: [{\n            label: 'Username',\n            value: username,\n            disabled: isAuth,\n            onChange: Object(__WEBPACK_IMPORTED_MODULE_1_linkstate__[\"a\" /* default */])(this, 'username')\n          }, {\n            label: 'Password',\n            type: 'password',\n            value: password,\n            disabled: isAuth,\n            onChange: Object(__WEBPACK_IMPORTED_MODULE_1_linkstate__[\"a\" /* default */])(this, 'password')\n          }],\n          actions: [{\n            label: 'Login',\n            loading: isAuthPending,\n            disabled: isAuth,\n            primary: true,\n            onClick: function onClick(_) {\n              return authenticate({ username: username, password: password });\n            }\n          }, {\n            label: 'Don\\'t have an account?',\n            loading: false,\n            disabled: isAuth,\n            onClick: function onClick(_) {\n              return Object(__WEBPACK_IMPORTED_MODULE_3_preact_router__[\"b\" /* route */])('/signup');\n            }\n          }] })\n      )\n    );\n  };\n\n  return Login;\n}(__WEBPACK_IMPORTED_MODULE_0_preact__[\"Component\"]);\n\nvar mapStateToProps = function mapStateToProps(_ref4) {\n  var auth = _ref4.auth;\n  return {\n    isAuthPending: auth.pending,\n    isAuth: auth.authenticated,\n    authUsername: auth.username\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    authenticate: function authenticate(data) {\n      return dispatch(Object(__WEBPACK_IMPORTED_MODULE_5__actions_auth_js__[\"a\" /* authenticate */])(data));\n    },\n    deauthenticate: function deauthenticate() {\n      return dispatch(Object(__WEBPACK_IMPORTED_MODULE_5__actions_auth_js__[\"b\" /* deauthenticate */])());\n    }\n  };\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Object(__WEBPACK_IMPORTED_MODULE_2_preact_redux__[\"b\" /* connect */])(mapStateToProps, mapDispatchToProps)(Login));\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// route-login.chunk.e47b1.js","import { Grid, Cell, TextField, Button } from 'preact-fluid'\n\nexport default ({ inputs, actions }) =>\n  <Grid columns={1}>\n    {\n      inputs.map(({ label, type, value, disabled, onChange, errorMsg }) =>\n        <Cell middle>\n          <TextField\n            grid={{\n              columns: 1,\n              rows: 1\n            }}\n            hideLabel\n            effect='border'\n            placeholder={label}\n            value={value}\n            type={type}\n            disabled={disabled}\n            errorText={errorMsg}\n            onChange={onChange} />\n        </Cell>\n      )\n    }\n    {\n      actions.map(({ label, onClick, loading, disabled, primary, secondary }) =>\n        <Cell middle>\n          <Button\n            onClick={onClick}\n            primary={primary}\n            secondary={secondary}\n            loading={loading}\n            disabled={disabled}>\n            {label}\n          </Button>\n        </Cell>\n      )\n    }\n  </Grid>\n\n\n\n// WEBPACK FOOTER //\n// ./components/Form.js","import { postJson, payload } from './'\n\nconst authRequest = postJson('/api/auth/')\n\nexport const authenticate = ({ username, password }) => dispatch => {\n  dispatch(payload('AUTHENTICATE_PENDING')())\n  authRequest(payload('AUTHENTICATE')({ username, password }))\n    .then(res => dispatch(res))\n    .catch(e => dispatch(payload('LOCAL_AUTH_ERROR')(e)))\n}\n\nexport const deauthenticate = _ => dispatch => {\n  dispatch(payload('DEAUTHENTICATE_PENDING')())\n  authRequest(payload('DEAUTHENTICATE')())\n    .then(res => dispatch(res))\n    .catch(e => dispatch(payload('LOCAL_AUTH_ERROR')(e)))\n}\n\nexport const registerUser = ({ username, password, email }) => dispatch => {\n  dispatch(payload('REGISTER_USER_PENDING')())\n  authRequest(payload('REGISTER_USER')({ username, password, email }))\n    .then(res => dispatch(res))\n    .catch(e => dispatch(payload('LOCAL_AUTH_ERROR')(e)))\n}\n\n\n\n// WEBPACK FOOTER //\n// ./actions/auth.js","import { Component } from 'preact'\nimport linkState from 'linkstate'\nimport { connect } from 'preact-redux'\nimport { route } from 'preact-router'\nimport { Grid, Cell } from 'preact-fluid'\n\nimport { authenticate, deauthenticate } from '../actions/auth.js'\nimport WarningCard from '../components/WarningCard.js'\nimport Form from '../components/Form.js'\n\nclass Login extends Component {\n  state = {\n    username: '',\n    password: ''\n  };\n\n  render (\n    { isAuthPending, isAuth, authUsername, authenticate, deauthenticate },\n    { username, password }\n  ) {\n    if (isAuth) {\n      route('/dashboard', true)\n    }\n    return <Grid columns={'1fr'} style={{ 'max-width': '900px', 'margin': '0 auto', 'padding': '10px' }}>\n      <Cell middle>\n        <h1>Login</h1>\n      </Cell>\n      { isAuth &&\n      <Cell middle>\n        <WarningCard\n          message={`You are already logged in as ${authUsername}`}\n          label='Logout'\n          onClick={deauthenticate}\n        />\n      </Cell>\n      }\n      <Cell middle>\n        <Form\n          inputs={[\n            {\n              label: 'Username',\n              value: username,\n              disabled: isAuth,\n              onChange: linkState(this, 'username')\n            },\n            {\n              label: 'Password',\n              type: 'password',\n              value: password,\n              disabled: isAuth,\n              onChange: linkState(this, 'password')\n            }\n          ]}\n          actions={[\n            {\n              label: 'Login',\n              loading: isAuthPending,\n              disabled: isAuth,\n              primary: true,\n              onClick: _ => authenticate({ username, password })\n            },\n            {\n              label: 'Don\\'t have an account?',\n              loading: false,\n              disabled: isAuth,\n              onClick: _ => route('/signup')\n            }\n          ]} />\n      </Cell>\n    </Grid>\n  }\n}\n\nconst mapStateToProps = ({ auth }) => ({\n  isAuthPending: auth.pending,\n  isAuth: auth.authenticated,\n  authUsername: auth.username\n})\n\nconst mapDispatchToProps = dispatch => ({\n  authenticate: (data) => dispatch(authenticate(data)),\n  deauthenticate: () => dispatch(deauthenticate())\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Login)\n\n\n\n// WEBPACK FOOTER //\n// ./routes/login.js"],"sourceRoot":""}