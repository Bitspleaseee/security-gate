webpackJsonp([2],{snAh:function(t,e,n){"use strict";function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var c=n("KM04"),i=(n.n(c),n("E/bI")),u=n("PbA0"),a=(n.n(u),n("/QC5")),d=n("CSCC"),f=n("51t8"),l=n("wtIQ"),s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},h=function(t){function e(){for(var e,n,o,i=arguments.length,l=Array(i),s=0;s<i;s++)l[s]=arguments[s];return e=n=r(this,t.call.apply(t,[this].concat(l))),n.render=function(t,e){var r=t.addComment,o=t.thread,i=t.comments,l=t.idError,s=t.error,h=t.mobile,b=t.acceptError,O=e.content;return Object(c.h)(u.Grid,{columns:h?5:12,style:{"max-width":"900px",margin:"0 auto",padding:"10px"}},o&&Object(c.h)(u.Cell,{width:h?5:12,middle:!0},Object(c.h)("h1",null,o.title),Object(c.h)("p",null,o.description)),l&&Object(c.h)(u.Cell,{left:h?1:4,width:5},Object(c.h)(f.a,{type:"error",message:l,label:"Dashboard",action:function(){return Object(a.b)("/dashboard")}})),s&&Object(c.h)(u.Cell,{left:h?1:4,width:5},Object(c.h)(f.a,{type:"error",message:s,label:"Ok",action:b})),i.map(function(t){var e=t.content,n=t.user;return Object(c.h)(u.Cell,{left:h?1:4,width:5},Object(c.h)("p",null,e),Object(c.h)("p",null,Object(c.h)("small",null,n.username)))}),o&&Object(c.h)(u.Cell,{left:h?1:4,width:5},Object(c.h)("textarea",{rows:4,value:O,onChange:Object(d.a)(n,"content")}),Object(c.h)(u.Button,{onClick:function(){return r(O)}},"Add comment")))},o=e,r(n,o)}return o(e,t),e}(c.Component),b=function(t,e){var n=t.auth,r=t.content,o=t.media,c=parseInt(e.id),i={authUser:n.username,isAuth:n.authenticated,mobile:o.mobile};return isNaN(c)?s({},i,{idError:"'"+e.id+"' is an invalid id (should be a number)",thread:null,comments:[]}):s({},i,{error:r.error,thread:r.threads.find(function(t){return t.id===c}),comments:r.comments.filter(function(t){return t.thread_id===c}).map(function(t){return s({},t,{user:e.getUser(t.user_id)})})})},O=function(t,e){var n=parseInt(e.id);return isNaN(n)?{fetchData:function(){},getUser:function(){},addComment:function(){}}:{fetchData:function(){t(Object(l.g)(n)),t(Object(l.f)(n))},getUser:function(e){return t(Object(l.h)(e))},addComment:function(e){return t(Object(l.b)({thread_id:n,content:e}))},acceptError:function(){return t(Object(l.a)())}}};e.default=Object(i.b)(b,O)(h)},wtIQ:function(t,e,n){"use strict";n.d(e,"h",function(){return i}),n.d(e,"d",function(){return u}),n.d(e,"g",function(){return a}),n.d(e,"e",function(){return d}),n.d(e,"f",function(){return f}),n.d(e,"c",function(){return l}),n.d(e,"b",function(){return s}),n.d(e,"a",function(){return h});var r=n("vyGZ"),o=Object(r.a)("/api")("LOCAL_CONTENT_ERROR"),c=Object(r.c)("/api/content")("LOCAL_CONTENT_ERROR"),i=function(t){return function(e,n){if(!n().content.users.find(function(e){return e.id===t}))return o("GET_USER")("/user/"+t)(e)}},u=function(){return o("GET_ALL_CATEGORIES")("/categories")},a=function(t){return function(e,n){n().content.threads.find(function(e){return e.id===t})||o("GET_THREAD")("/thread/"+t)(e)}},d=function(){return o("GET_ALL_THREADS")("/threads")},f=function(t){return o("GET_COMMENTS_IN_THREAD")("/thread/"+t+"/comments")},l=function(t){var e=t.category_id,n=t.title,r=t.description;return c("ADD_THREAD")({category_id:e,title:n,description:r})},s=function(t){var e=t.thread_id,n=t.parent_id,r=t.content;return c("ADD_COMMENT")({thread_id:e,parent_id:n,content:r})},h=function(){return Object(r.b)("ACCEPTED_ERROR")()}}});
//# sourceMappingURL=route-thread.chunk.9f6fc.js.map