{"version":3,"sources":["webpack:///route-dashboard.chunk.e2e64.js","webpack:///./routes/dashboard.js","webpack:///./actions/content.js"],"names":["webpackJsonp","Y36v","module","__webpack_exports__","__webpack_require__","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","TypeError","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","defineProperty","__WEBPACK_IMPORTED_MODULE_0_preact__","__WEBPACK_IMPORTED_MODULE_1_preact_redux__","n","__WEBPACK_IMPORTED_MODULE_2_preact_fluid__","__WEBPACK_IMPORTED_MODULE_3_preact_router__","__WEBPACK_IMPORTED_MODULE_4__actions_content_js__","_ref2","width","middle","_ref3","_ref4","Dashboard","_Component","this","apply","arguments","componentWillMount","props","getData","render","_ref","categories","threads","pending","mobile","style","max-width","margin","padding","slice","map","category","title","filter","_ref5","category_id","id","thread","left","description","right","onClick","route","Component","mapDispatchToProps","dispatch","getAllCategories","getAllThreads","mapStateToProps","_ref6","content","media","connect","wtIQ","d","getUser","getThread","addComment","getCommentsInThread","__WEBPACK_IMPORTED_MODULE_0____","getRequest","s","getJson","postRequest","postJson","requestError","payload","then","res","catch","e","threadId","userId","parentId"],"mappings":"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","file":"route-dashboard.chunk.e2e64.js","sourcesContent":["webpackJsonp([3],{\n\n/***/ \"Y36v\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_preact__ = __webpack_require__(\"KM04\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_preact___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_preact__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_preact_redux__ = __webpack_require__(\"E/bI\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_preact_fluid__ = __webpack_require__(\"PbA0\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_preact_fluid___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_preact_fluid__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_preact_router__ = __webpack_require__(\"/QC5\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__actions_content_js__ = __webpack_require__(\"wtIQ\");\n\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\n\n\n\n\n\nvar _ref2 = Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n  __WEBPACK_IMPORTED_MODULE_2_preact_fluid__[\"Cell\"],\n  { width: 12, middle: true },\n  Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n    'h1',\n    null,\n    'Dashboard'\n  )\n);\n\nvar _ref3 = Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n  __WEBPACK_IMPORTED_MODULE_2_preact_fluid__[\"Cell\"],\n  { width: 12, middle: true },\n  Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n    'h3',\n    null,\n    'Categories'\n  )\n);\n\nvar _ref4 = Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n  'p',\n  null,\n  'Loading...'\n);\n\nvar Dashboard = function (_Component) {\n  _inherits(Dashboard, _Component);\n\n  function Dashboard() {\n    _classCallCheck(this, Dashboard);\n\n    return _possibleConstructorReturn(this, _Component.apply(this, arguments));\n  }\n\n  Dashboard.prototype.componentWillMount = function componentWillMount() {\n    this.props.getData();\n  };\n\n  Dashboard.prototype.render = function render(_ref) {\n    var categories = _ref.categories,\n        threads = _ref.threads,\n        pending = _ref.pending,\n        mobile = _ref.mobile;\n\n    return Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n      __WEBPACK_IMPORTED_MODULE_2_preact_fluid__[\"Grid\"],\n      { style: { 'max-width': '900px', 'margin': '0 auto', 'padding': '10px' } },\n      _ref2,\n      _ref3,\n      pending > 0 && _ref4,\n      categories.slice(0, 6).map(function (category) {\n        return Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n          __WEBPACK_IMPORTED_MODULE_2_preact_fluid__[\"Cell\"],\n          { width: 12 },\n          Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n            __WEBPACK_IMPORTED_MODULE_2_preact_fluid__[\"Cell\"],\n            { width: 12, middle: true },\n            Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n              'h4',\n              null,\n              category.title\n            )\n          ),\n          threads.filter(function (_ref5) {\n            var category_id = _ref5.category_id;\n            return category_id === category.id;\n          }).map(function (thread) {\n            return Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n              __WEBPACK_IMPORTED_MODULE_2_preact_fluid__[\"Cell\"],\n              { left: mobile ? 1 : 4, width: mobile ? 12 : 6 },\n              Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n                __WEBPACK_IMPORTED_MODULE_2_preact_fluid__[\"Card\"],\n                null,\n                Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(__WEBPACK_IMPORTED_MODULE_2_preact_fluid__[\"CardHeader\"], { title: thread.title }),\n                Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n                  __WEBPACK_IMPORTED_MODULE_2_preact_fluid__[\"CardBody\"],\n                  null,\n                  thread.description\n                ),\n                Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(__WEBPACK_IMPORTED_MODULE_2_preact_fluid__[\"CardFooter\"], { right: Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n                    __WEBPACK_IMPORTED_MODULE_2_preact_fluid__[\"Button\"],\n                    { onClick: function onClick(_) {\n                        return Object(__WEBPACK_IMPORTED_MODULE_3_preact_router__[\"b\" /* route */])('/thread/' + thread.id);\n                      } },\n                    'See comments'\n                  ) })\n              )\n            );\n          })\n        );\n      })\n    );\n  };\n\n  return Dashboard;\n}(__WEBPACK_IMPORTED_MODULE_0_preact__[\"Component\"]);\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch, props) {\n  return {\n    getData: function getData(_) {\n      dispatch(Object(__WEBPACK_IMPORTED_MODULE_4__actions_content_js__[\"b\" /* getAllCategories */])());\n      dispatch(Object(__WEBPACK_IMPORTED_MODULE_4__actions_content_js__[\"c\" /* getAllThreads */])());\n    }\n  };\n};\n\nvar mapStateToProps = function mapStateToProps(_ref6) {\n  var content = _ref6.content,\n      media = _ref6.media;\n  return {\n    pending: content.pending,\n    categories: content.categories,\n    threads: content.threads,\n    mobile: media.mobile\n  };\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Object(__WEBPACK_IMPORTED_MODULE_1_preact_redux__[\"b\" /* connect */])(mapStateToProps, mapDispatchToProps)(Dashboard));\n\n/***/ }),\n\n/***/ \"wtIQ\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* unused harmony export search */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"f\", function() { return getUser; });\n/* unused harmony export editUser */\n/* unused harmony export addCategory */\n/* unused harmony export editCategory */\n/* unused harmony export getCategory */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return getAllCategories; });\n/* unused harmony export addThread */\n/* unused harmony export editThread */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"e\", function() { return getThread; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"c\", function() { return getAllThreads; });\n/* unused harmony export getThreadsInCategory */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return addComment; });\n/* unused harmony export editComment */\n/* unused harmony export getComment */\n/* unused harmony export getAllComments */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"d\", function() { return getCommentsInThread; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0____ = __webpack_require__(\"vyGZ\");\n\n\nvar getRequest = function getRequest(s) {\n  return Object(__WEBPACK_IMPORTED_MODULE_0____[\"a\" /* getJson */])('/api' + s);\n};\nvar postRequest = Object(__WEBPACK_IMPORTED_MODULE_0____[\"c\" /* postJson */])('/api/content');\n\nvar requestError = Object(__WEBPACK_IMPORTED_MODULE_0____[\"b\" /* payload */])('CONTENT_REQUEST_ERROR');\n\n//\n// SEARCH\n//\n\nvar search = function search(query) {\n  return function (dispatch) {\n    dispatch(Object(__WEBPACK_IMPORTED_MODULE_0____[\"b\" /* payload */])('SEARCH_PENDING'));\n    Object(__WEBPACK_IMPORTED_MODULE_0____[\"a\" /* getJson */])('/search?q=' + query)().then(function (res) {\n      return dispatch(res);\n    }).catch(function (e) {\n      return dispatch(requestError(e));\n    });\n  };\n};\n\n//\n//  USER\n//\n\nvar getUser = function getUser(id) {\n  return function (dispatch) {\n    dispatch(Object(__WEBPACK_IMPORTED_MODULE_0____[\"b\" /* payload */])('GET_USER_PENDING')());\n    getRequest('/user/' + id).then(function (res) {\n      return dispatch(res);\n    }).catch(function (e) {\n      return dispatch(requestError(e));\n    });\n  };\n};\n\nvar editUser = function editUser(description, avatar) {\n  return function (dispatch) {\n    dispatch(Object(__WEBPACK_IMPORTED_MODULE_0____[\"b\" /* payload */])('EDIT_USER_PENDING')());\n    postRequest(Object(__WEBPACK_IMPORTED_MODULE_0____[\"b\" /* payload */])('EDIT_USER')({ description: description, avatar: avatar })).then(function (res) {\n      return dispatch(res);\n    }).catch(function (e) {\n      return dispatch(requestError(e));\n    });\n  };\n};\n\n//\n//  CATEGORIES\n//\n\nvar addCategory = function addCategory(title, description) {\n  return function (dispatch) {\n    dispatch(Object(__WEBPACK_IMPORTED_MODULE_0____[\"b\" /* payload */])('ADD_CATEGORY_PENDING')());\n    postRequest(Object(__WEBPACK_IMPORTED_MODULE_0____[\"b\" /* payload */])('ADD_CATEGORY')({ title: title, description: description })).then(function (res) {\n      return dispatch(res);\n    }).catch(function (e) {\n      return dispatch(requestError(e));\n    });\n  };\n};\n\nvar editCategory = function editCategory(id, title, description) {\n  return function (dispatch) {\n    dispatch(Object(__WEBPACK_IMPORTED_MODULE_0____[\"b\" /* payload */])('EDIT_CATEGORY_PENDING')());\n    postRequest(Object(__WEBPACK_IMPORTED_MODULE_0____[\"b\" /* payload */])('EDIT_CATEGORY')({ id: id, title: title, description: description })).then(function (res) {\n      return dispatch(res);\n    }).catch(function (e) {\n      return dispatch(requestError(e));\n    });\n  };\n};\n\nvar getCategory = function getCategory(id) {\n  return function (dispatch) {\n    dispatch(Object(__WEBPACK_IMPORTED_MODULE_0____[\"b\" /* payload */])('GET_CATEGORY_PENDING')());\n    getRequest('/category/' + id).then(function (res) {\n      return dispatch(res);\n    }).catch(function (e) {\n      return dispatch(requestError(e));\n    });\n  };\n};\n\nvar getAllCategories = function getAllCategories(_) {\n  return function (dispatch) {\n    dispatch(Object(__WEBPACK_IMPORTED_MODULE_0____[\"b\" /* payload */])('GET_ALL_CATEGORIES_PENDING')());\n    getRequest('/categories').then(function (res) {\n      return dispatch(res);\n    }).catch(function (e) {\n      return dispatch(requestError(e));\n    });\n  };\n};\n\n//\n// THREADS\n//\n\nvar addThread = function addThread(categoryId, userId, title, description) {\n  return function (dispatch) {\n    dispatch(Object(__WEBPACK_IMPORTED_MODULE_0____[\"b\" /* payload */])('ADD_THREAD_PENDING')());\n    postRequest(Object(__WEBPACK_IMPORTED_MODULE_0____[\"b\" /* payload */])('ADD_THREAD')({ categoryId: categoryId, userId: userId, title: title, description: description })).then(function (res) {\n      return dispatch(res);\n    }).catch(function (e) {\n      return dispatch(requestError(e));\n    });\n  };\n};\n\nvar editThread = function editThread(id, title, description) {\n  return function (dispatch) {\n    dispatch(Object(__WEBPACK_IMPORTED_MODULE_0____[\"b\" /* payload */])('EDIT_THREAD_PENDING')());\n    postRequest(Object(__WEBPACK_IMPORTED_MODULE_0____[\"b\" /* payload */])('EDIT_THREAD')({ id: id, title: title, description: description })).then(function (res) {\n      return dispatch(res);\n    }).catch(function (e) {\n      return dispatch(requestError(e));\n    });\n  };\n};\n\nvar getThread = function getThread(id) {\n  return function (dispatch) {\n    dispatch(Object(__WEBPACK_IMPORTED_MODULE_0____[\"b\" /* payload */])('GET_THREAD_PENDING')());\n    getRequest('/thread/' + id).then(function (res) {\n      return dispatch(res);\n    }).catch(function (e) {\n      return dispatch(requestError(e));\n    });\n  };\n};\n\nvar getAllThreads = function getAllThreads(_) {\n  return function (dispatch) {\n    dispatch(Object(__WEBPACK_IMPORTED_MODULE_0____[\"b\" /* payload */])('GET_ALL_THREADS_PENDING')());\n    getRequest('/threads').then(function (res) {\n      return dispatch(res);\n    }).catch(function (e) {\n      return dispatch(requestError(e));\n    });\n  };\n};\n\nvar getThreadsInCategory = function getThreadsInCategory(id) {\n  return function (dispatch) {\n    dispatch(Object(__WEBPACK_IMPORTED_MODULE_0____[\"b\" /* payload */])('GET_THREADS_IN_CATEGORY_PENDING')({ id: id }));\n    getRequest('/category/' + id + '/threads').then(function (res) {\n      return dispatch(res);\n    }).catch(function (e) {\n      return dispatch(requestError(e));\n    });\n  };\n};\n\n//\n// COMMENTS\n//\n\nvar addComment = function addComment(threadId, userId, parentId, content) {\n  return function (dispatch) {\n    dispatch(Object(__WEBPACK_IMPORTED_MODULE_0____[\"b\" /* payload */])('ADD_COMMENT_PENDING')());\n    postRequest(Object(__WEBPACK_IMPORTED_MODULE_0____[\"b\" /* payload */])('ADD_COMMENT')({ threadId: threadId, userId: userId, parentId: parentId, content: content })).then(function (res) {\n      return dispatch(res);\n    }).catch(function (e) {\n      return dispatch(requestError(e));\n    });\n  };\n};\n\nvar editComment = function editComment(id, content) {\n  return function (dispatch) {\n    dispatch(Object(__WEBPACK_IMPORTED_MODULE_0____[\"b\" /* payload */])('EDIT_COMMENT_PENDING')());\n    postRequest(Object(__WEBPACK_IMPORTED_MODULE_0____[\"b\" /* payload */])('EDIT_COMMENT')({ id: id, content: content })).then(function (res) {\n      return dispatch(res);\n    }).catch(function (e) {\n      return dispatch(requestError(e));\n    });\n  };\n};\n\nvar getComment = function getComment(id) {\n  return function (dispatch) {\n    dispatch(Object(__WEBPACK_IMPORTED_MODULE_0____[\"b\" /* payload */])('GET_COMMENT_PENDING')());\n    getRequest('/comment/' + id).then(function (res) {\n      return dispatch(res);\n    }).catch(function (e) {\n      return dispatch(requestError(e));\n    });\n  };\n};\n\nvar getAllComments = function getAllComments(_) {\n  return function (dispatch) {\n    dispatch(Object(__WEBPACK_IMPORTED_MODULE_0____[\"b\" /* payload */])('GET_ALL_COMMENTS_PENDING')());\n    getRequest('/comments').then(function (res) {\n      return dispatch(res);\n    }).catch(function (e) {\n      return dispatch(requestError(e));\n    });\n  };\n};\n\nvar getCommentsInThread = function getCommentsInThread(id) {\n  return function (dispatch) {\n    dispatch(Object(__WEBPACK_IMPORTED_MODULE_0____[\"b\" /* payload */])('GET_COMMENTS_IN_THREAD_PENDING')({ id: id }));\n    getRequest('/thread/' + id + '/comments').then(function (res) {\n      return dispatch(res);\n    }).catch(function (e) {\n      return dispatch(requestError(e));\n    });\n  };\n};\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// route-dashboard.chunk.e2e64.js","import { Component } from 'preact'\nimport { connect } from 'preact-redux'\nimport { Grid, Cell, Card, CardHeader, CardBody, CardFooter, Button } from 'preact-fluid'\nimport { route } from 'preact-router'\n\nimport { getAllCategories, getAllThreads } from '../actions/content.js'\n\nclass Dashboard extends Component {\n  componentWillMount () {\n    this.props.getData()\n  }\n\n  render ({ categories, threads, pending, mobile }) {\n    return <Grid style={{ 'max-width': '900px', 'margin': '0 auto', 'padding': '10px' }}>\n      <Cell width={12} middle>\n        <h1>Dashboard</h1>\n      </Cell>\n      <Cell width={12} middle>\n        <h3>Categories</h3>\n      </Cell>\n      { pending > 0 && <p>Loading...</p> }\n      {\n        categories.slice(0, 6).map(category =>\n          <Cell width={12}>\n            <Cell width={12} middle>\n              <h4>{category.title}</h4>\n            </Cell>\n            {\n              threads.filter(({ category_id }) => category_id === category.id)\n                .map(thread =>\n                  <Cell left={mobile ? 1 : 4} width={mobile ? 12 : 6}>\n                    <Card>\n                      <CardHeader title={thread.title} />\n                      <CardBody>{thread.description}</CardBody>\n                      <CardFooter right={\n                        <Button onClick={_ => route(`/thread/${thread.id}`)}>See comments</Button>\n                      } />\n                    </Card>\n                  </Cell>\n                )\n            }\n          </Cell>\n        )\n      }\n    </Grid>\n  }\n}\n\nconst mapDispatchToProps = (dispatch, props) => ({\n  getData: _ => {\n    dispatch(getAllCategories())\n    dispatch(getAllThreads())\n  }\n})\n\nconst mapStateToProps = ({ content, media }) => ({\n  pending: content.pending,\n  categories: content.categories,\n  threads: content.threads,\n  mobile: media.mobile\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Dashboard)\n\n\n\n// WEBPACK FOOTER //\n// ./routes/dashboard.js","import { postJson, getJson, payload } from './'\n\nconst getRequest = s => getJson('/api' + s)\nconst postRequest = postJson('/api/content')\n\nconst requestError = payload('CONTENT_REQUEST_ERROR')\n\n//\n// SEARCH\n//\n\nexport const search = query => dispatch => {\n  dispatch(payload('SEARCH_PENDING'))\n  getJson(`/search?q=${query}`)()\n    .then(res => dispatch(res))\n    .catch(e => dispatch(requestError(e)))\n}\n\n//\n//  USER\n//\n\nexport const getUser = id => dispatch => {\n  dispatch(payload('GET_USER_PENDING')())\n  getRequest(`/user/${id}`)\n    .then(res => dispatch(res))\n    .catch(e => dispatch(requestError(e)))\n}\n\nexport const editUser = (description, avatar) => dispatch => {\n  dispatch(payload('EDIT_USER_PENDING')())\n  postRequest(payload('EDIT_USER')({ description, avatar }))\n    .then(res => dispatch(res))\n    .catch(e => dispatch(requestError(e)))\n}\n\n//\n//  CATEGORIES\n//\n\nexport const addCategory = (title, description) => dispatch => {\n  dispatch(payload('ADD_CATEGORY_PENDING')())\n  postRequest(payload('ADD_CATEGORY')({ title, description }))\n    .then(res => dispatch(res))\n    .catch(e => dispatch(requestError(e)))\n}\n\nexport const editCategory = (id, title, description) => dispatch => {\n  dispatch(payload('EDIT_CATEGORY_PENDING')())\n  postRequest(payload('EDIT_CATEGORY')({ id, title, description }))\n    .then(res => dispatch(res))\n    .catch(e => dispatch(requestError(e)))\n}\n\nexport const getCategory = id => dispatch => {\n  dispatch(payload('GET_CATEGORY_PENDING')())\n  getRequest(`/category/${id}`)\n    .then(res => dispatch(res))\n    .catch(e => dispatch(requestError(e)))\n}\n\nexport const getAllCategories = _ => dispatch => {\n  dispatch(payload('GET_ALL_CATEGORIES_PENDING')())\n  getRequest(`/categories`)\n    .then(res => dispatch(res))\n    .catch(e => dispatch(requestError(e)))\n}\n\n//\n// THREADS\n//\n\nexport const addThread = (categoryId, userId, title, description) => dispatch => {\n  dispatch(payload('ADD_THREAD_PENDING')())\n  postRequest(payload('ADD_THREAD')({ categoryId, userId, title, description }))\n    .then(res => dispatch(res))\n    .catch(e => dispatch(requestError(e)))\n}\n\nexport const editThread = (id, title, description) => dispatch => {\n  dispatch(payload('EDIT_THREAD_PENDING')())\n  postRequest(payload('EDIT_THREAD')({ id, title, description }))\n    .then(res => dispatch(res))\n    .catch(e => dispatch(requestError(e)))\n}\n\nexport const getThread = id => dispatch => {\n  dispatch(payload('GET_THREAD_PENDING')())\n  getRequest(`/thread/${id}`)\n    .then(res => dispatch(res))\n    .catch(e => dispatch(requestError(e)))\n}\n\nexport const getAllThreads = _ => dispatch => {\n  dispatch(payload('GET_ALL_THREADS_PENDING')())\n  getRequest(`/threads`)\n    .then(res => dispatch(res))\n    .catch(e => dispatch(requestError(e)))\n}\n\nexport const getThreadsInCategory = id => dispatch => {\n  dispatch(payload('GET_THREADS_IN_CATEGORY_PENDING')({ id }))\n  getRequest(`/category/${id}/threads`)\n    .then(res => dispatch(res))\n    .catch(e => dispatch(requestError(e)))\n}\n\n//\n// COMMENTS\n//\n\nexport const addComment = (threadId, userId, parentId, content) => dispatch => {\n  dispatch(payload('ADD_COMMENT_PENDING')())\n  postRequest(payload('ADD_COMMENT')({ threadId, userId, parentId, content }))\n    .then(res => dispatch(res))\n    .catch(e => dispatch(requestError(e)))\n}\n\nexport const editComment = (id, content) => dispatch => {\n  dispatch(payload('EDIT_COMMENT_PENDING')())\n  postRequest(payload('EDIT_COMMENT')({ id, content }))\n    .then(res => dispatch(res))\n    .catch(e => dispatch(requestError(e)))\n}\n\nexport const getComment = id => dispatch => {\n  dispatch(payload('GET_COMMENT_PENDING')())\n  getRequest(`/comment/${id}`)\n    .then(res => dispatch(res))\n    .catch(e => dispatch(requestError(e)))\n}\n\nexport const getAllComments = _ => dispatch => {\n  dispatch(payload('GET_ALL_COMMENTS_PENDING')())\n  getRequest(`/comments`)\n    .then(res => dispatch(res))\n    .catch(e => dispatch(requestError(e)))\n}\n\nexport const getCommentsInThread = id => dispatch => {\n  dispatch(payload('GET_COMMENTS_IN_THREAD_PENDING')({ id }))\n  getRequest(`/thread/${id}/comments`)\n    .then(res => dispatch(res))\n    .catch(e => dispatch(requestError(e)))\n}\n\n\n\n// WEBPACK FOOTER //\n// ./actions/content.js"],"sourceRoot":""}